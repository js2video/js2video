# js2video

Author: Per Kleven, Tight Ship AB - https://github.com/pkl

---

- GitHub - https://github.com/js2video/js2video
- npm
  - Client - https://www.npmjs.com/package/@js2video/client
  - Server - https://www.npmjs.com/package/@js2video/server
  - CLI - https://www.npmjs.com/package/@js2video/cli

---

## About

js2video is a set of JavaScript components that let you view and export _templated videos_:

- In the browser
- On the server
- From the command line

js2video is open sourced under the MIT license. See the LICENSE file in this repo.

## What's a templated video?

A templated video is a video generated by a video template written in JavaScript. They use a canvas and a timeline to manipulate visual objects over time. Templates are "parameterized" so you can generate different videos from the same template.

The template works in all environments: server, client and cli. They can be consumed from the internet, making them easy to share and distribute.

Template example: https://js2video.github.io/js2video-templates/hello-world.js

## @js2video/client

The client components let you view and control templated videos in the browser. Chromium based browser can also export the video to a MP4 file on your computer.

**Quickstart**

```shell
$ npm install @js2video/client
```

```javascript
import { loadVideo } from "@js2video/client";

// wait until the DOM is ready
window.addEventListener("DOMContentLoaded", async () => {
  // load a video from remote template + params
  // returns a VideoCanvas instance we can control!
  const vc = await loadVideo({
    templateUrl: "https://js2video.github.io/js2video-templates/hello-world.js",
    params: {
      text: "I'm on the client!",
      fontFamily: "Bangers",
    },
    size: { width: 1080, height: 1920 },
  });

  // add the video canvas to the body so that we can see it
  document.body.appendChild(vc.canvasElement);

  // autoplay
  vc.play();

  // We also have:
  // vc.togglePlay();
  // vc.pause();
  // await vc.rewind();
  // await vc.seek(time);
  // await vc.exportFile({ bitrate = 5_000_000 }); <- exports to mp4, Chromium only!
  // await vc.dispose();
});
```

## @js2video/server

The server components let you export a templated video to MP4 format on a Node.js server.

**Quickstart**

```shell
$ npm install @js2video/server
```

```javascript
import { exportVideo } from "@js2video/server";

// export video to mp4 from a remote template + params
const result = await exportVideo({
  templateUrl: "https://js2video.github.io/js2video-templates/hello-world.js",
  params: {
    text: "I'm on the server!",
    fontFamily: "Bangers",
  },
  size: { width: 1080, height: 1920 },
  fps: 30,
  bitrate: 5_000_000,
});

console.log(result);

// -> { file: "/path/to/generated.mp4" }
```

## @js2video/cli

The js2video CLI let you export a templated video to MP4 format from the command line.

**Quickstart**

```shell
$ npx @js2video/cli \
-t https://js2video.github.io/js2video-templates/hello-world.js \
-p '{ "text" : "On the command line!", "fontFamily": "Bangers" }' \
-f 30 \
-b 5000000 \
-w 1080 \
-h 1920
```
